<body>
  <div class="dashboard-container">
    <div class="pending-reviews-panel">
      <span class="number">{{ pendingRequestsCount | zero }}</span
      ><span class="text-content">PENDING REQUESTS</span>
      <a
        class="takeActionLink"
        (click)="viewPendingRequests()"
        *ngIf="pendingRequestsCount != 0"
        >View</a
      >
    </div>
    <div
      class="widget pending-reviews-list"
      *ngIf="viewPending"
      style="min-height: 0; max-height: 250px"
    >
      <div class="widget-header">Pending Requests</div>
      <div class="widget-information pending-requests">
        <div class="list-panel" *ngFor="let element of bookingList">
          <div
            class="list-thumbnail"
            style="
              background-image: url('../../../assets/images/default-user-image.png');
            "
          ></div>
          <div class="list-information">
            <span class="name">{{ element.tutorName }}</span>
            <span class="subject">{{ element.subject }}</span>
          </div>
          <div class="date-time-panel">
            <span>{{ element.dateOfMeeting }}</span>
            <span>
              {{ element.startTimeHour }}:{{ element.startTimeMinute | zero }} -
              {{ element.endTimeHour }}:{{ element.endTimeMinute | zero }} ({{
                element.duration
              }}
              minutes)</span
            >
          </div>
          <div class="button-container">
            <span class="btn btn-primary">{{ element.approvalStatus }}</span>
            <button
              type="button"
              class="btn btn-primary"
              *ngIf="element.approvalStatus == 'Pending'"
              (click)="deleteBooking(element)"
            >
              Cancel
            </button>
          </div>
        </div>
      </div>
    </div>
    <div class="widget">
      <div class="widget-header">Upcoming Classes</div>
      <div style="padding: 10px">
        <span *ngIf="liveMeetingList.length == 0 && approvedList.length == 0"
          >No upcoming classes</span
        >
      </div>
      <div *ngIf="liveMeetingList != null">
        <div *ngFor="let element of liveMeetingList">
          <!-- <div class="widget-timings">
            <span style="color: red">● &nbsp;</span>Live Now
          </div> -->
          <div class="widget-information">
            <div class="widget-time">
              <span style="color: red">● &nbsp;Live Now</span>
            </div>
            <div class="subject-thumbnail"></div>
            <div class="subject-description">
              <span>{{ element.studentName }}</span>
              <span
                >{{ element.startTimeHour }}:{{
                  element.startTimeMinute | zero
                }}
                - {{ element.endTimeHour }}:{{
                  element.endTimeMinute | zero
                }}
                ({{ element.duration }} minutes)</span
              >

              <span>{{ element.description }}</span>
              <button
                type="button"
                class="btn btn-primary"
                (click)="onJoin(element)"
              >
                Join
              </button>
            </div>
          </div>
          <div class="widget-footer"><a href="">view more</a></div>
        </div>
      </div>

      <div *ngFor="let element of approvedList">
        <!-- <div class="widget-time" *ngIf="element.timeLeft != null">
            Live in:{{ element.timeLeft }}
        </div> -->
        <div class="widget-information">
          <div class="widget-time">
            <span style="color: red" *ngIf="element.timeLeft == null"
              >● &nbsp;About to start<i
                class="fas fa-redo"
                (click)="refreshPage()"
                style="margin-left: 5px; color: black; cursor: pointer"
              ></i
            ></span>
          </div>
          <div class="widget-time" *ngIf="element.timeLeft != null">
            Live in:{{ element.timeLeft }}
          </div>
          <div class="subject-thumbnail"></div>
          <div class="subject-description">
            <span>{{ element.studentName }}</span>
            <span>{{ element.dateOfMeeting }}</span>
            <span
              >{{ element.startTimeHour }}:{{
                element.startTimeMinute | zero
              }}
              - {{ element.endTimeHour }}:{{ element.endTimeMinute | zero }} ({{
                element.duration
              }}
              minutes)</span
            >

            <span>{{ element.description }}</span>
            <button
              type="button"
              class="btn btn-primary"
              (click)="onJoin(element)"
              [disabled]="!element.isLive"
            >
              Join
            </button>
          </div>
        </div>
        <div class="widget-footer">
          <a href="javascript:;" (click)="openRecordingsPage()">view more</a>
        </div>
      </div>
    </div>
    <div class="widget">
      <div class="widget-header">Skills in Demand</div>
      <div class="widget-timings">
        <div class="btn-group" role="group" aria-label="Basic example">
          <button
            type="button"
            class="btn btn-secondary"
            [class.active]="type == 'PieChart'"
            (click)="toggleSkillsInDemand('PieChart')"
          >
            <span class="fa fa-chart-pie"></span>
          </button>
          <button
            type="button"
            class="btn btn-secondary"
            [class.active]="type == 'Table'"
            (click)="toggleSkillsInDemand('Table')"
          >
            <span class="fa fa-list"></span>
          </button>
        </div>
      </div>
      <div style="margin-top: 20px">
        <google-chart
          #chart
          [type]="type"
          [data]="data"
          [options]="options"
          [width]="studentChartWidth"
          [height]="studentChartHeight"
        >
        </google-chart>
      </div>
    </div>

    <div class="widget pending-reviews">
      <div class="widget-header">Pending Reviews</div>
      <div class="widget-information">
        <div style="padding: 10px" *ngIf="pendingReviewList.length == 0">
          <span>No Pending reviews</span>
        </div>
        <div class="list-panel" *ngFor="let list of pendingReviewList">
          <div
            class="list-thumbnail"
            [ngStyle]="{
              'background-image': 'url(' + list.tutorProfilePictureUrl + ')'
            }"
          ></div>
          <div class="list-information">
            <span class="name" [innerHTML]="list.tutorName"></span>
            <span class="subject" [innerHTML]="list.subject"></span>
          </div>
          <div class="review-nav">
            <div class="stars-container">
              <div class="star-widget" style="cursor: pointer">
                <input
                  type="radio"
                  name="rate"
                  id="rate-5"
                  (click)="saveRating(list, '100')"
                />
                <label for="rate-5" class="fas fa-star"></label>
                <input
                  type="radio"
                  name="rate"
                  id="rate-4"
                  (click)="saveRating(list, '80')"
                />
                <label for="rate-4" class="fas fa-star"></label>
                <input
                  type="radio"
                  name="rate"
                  id="rate-3"
                  (click)="saveRating(list, '60')"
                />
                <label for="rate-3" class="fas fa-star"></label>
                <input
                  type="radio"
                  name="rate"
                  id="rate-2"
                  (click)="saveRating(list, '40')"
                />
                <label for="rate-2" class="fas fa-star"></label>
                <input
                  type="radio"
                  name="rate"
                  id="rate-1"
                  (click)="saveRating(list, '20')"
                />
                <label for="rate-1" class="fas fa-star"></label>
              </div>
              <!-- <div style="font-size: larger">
                <i
                  class="fas fa-times review-icons"
                  (click)="cancelReview()"
                ></i>
                <i class="fas fa-check review-icons" *ngIf="false"></i>
                <i class="fas fa-edit review-icons" *ngIf="false"></i>
              </div> -->
            </div>
          </div>
          <!-- <button class="btn btn-warning" (click)="giveFeedback(list)">
            Feedback
          </button> -->
        </div>
      </div>
      <div class="widget-footer" *ngIf="pendingReviews.length > 3">
        <a href="">view more</a>
      </div>
    </div>
  </div>
</body>
