<app-nav-bar></app-nav-bar>
<app-advertisement-banner></app-advertisement-banner>
<div class="content-container">
  <div class="row" style="margin: 0">
    <div class="col">
      <div class="breadcrumb-container">
        <ol class="breadcrumb">
          <li><a href="#">Home</a></li>

          <li class="active" [innerHtml]="selectedSubject"></li>
        </ol>
      </div>
    </div>
  </div>

  <div class="fliter-tag-container">
    <div class="row" style="margin: 0; width: 100%">
      <div class="col-md-8">
        <div class="filters-content">
          <ul class="nav nav-pills">
            <li class="nav-item" *ngFor="let filters of subjectFiltersApplied">
              <a class="nav-link">
                <span [innerHTML]="filters"></span>
                <span class="material-icons" (click)="deleteSubject(filters)">
                  close
                </span></a
              >
            </li>
            <li class="nav-item" *ngFor="let filters of priceFiltersApplied">
              <a class="nav-link">
                <span [innerHTML]="filters"></span>
                <span class="material-icons" (click)="deletePrice(filters)">
                  close
                </span></a
              >
            </li>
            <li class="nav-item" *ngFor="let filters of ratingFilterApplied">
              <a class="nav-link">
                <span>{{ filters }}&nbsp; & up</span>
                <span class="material-icons" (click)="deleteRating(filters)">
                  close
                </span></a
              >
            </li>
          </ul>
        </div>
        <!-- <button *ngIf="showMobileFilterButton" class="btn btn-primary" type="button" style="margin: 10px; z-index: 5" (click)="showFilters()">
          Filter
        </button> -->
      </div>
      <div class="col-md-4" style="float: right">
        <div class="sort-by-container" style="width: 100%">
          <span
            ><a href="javascript:;" (click)="clearAllFilters()"
              >clear filters</a
            ></span
          >
          <span style="margin-left: 15px">Sort By</span
          ><select (change)="sort($event)">
            <option selected disabled>Sort</option>
            <option value="priceLowToHigh">Price: Low to High</option>
            <option value="priceHighToLow">Price: High to Low</option>
            <option value="ratingLowToHigh">Rating: Low to High</option>
            <option value="ratingHighToLow">Rating: High to Low</option>
          </select>
        </div>
      </div>
    </div>
  </div>
  <div class="search-result-container rowto">
    <div class="filter-container columnto" [hidden]="showMobileFilterView">
      <div class="filter-category">
        <span *ngIf="!showMobileFilterView" class="filter-category-header"
          >Subjects</span
        >
        <ul class="filter-category-list">
          <li *ngFor="let sc of subCategories">
            <label class="filters-label">
              <input
                type="checkbox"
                class="filter-input"
                [value]="sc.subCategory"
                [checked]="subjectContains(sc.subCategory)"
                (change)="searchBySubject($event)"
              />{{ sc.subCategory }}
              <span class="filter-num">(123)</span>
            </label>
          </li>
          <!-- <li>
            <label class="filters-label">
              <input
                type="checkbox"
                class="filter-input"
                value="Physics"
                [checked]="subjectContains('Physics')"
                (change)="searchBySubject($event)"
              />Physics
              <span class="filter-num">(123)</span>
            </label>
          </li>
          <li>
            <label class="filters-label">
              <input
                type="checkbox"
                class="filter-input"
                value="Chemistry"
                [checked]="subjectContains('Chemistry')"
                (change)="searchBySubject($event)"
              />Chemistry
              <span class="filter-num">(123)</span>
            </label>
          </li>
          <li>
            <label class="filters-label">
              <input
                type="checkbox"
                class="filter-input"
                value="Mathematics"
                [checked]="subjectContains('Mathematics')"
                (change)="searchBySubject($event)"
              />Mathematics
              <span class="filter-num">(123)</span>
            </label>
          </li>
          <li>
            <label class="filters-label">
              <input
                type="checkbox"
                class="filter-input"
                value="Science"
                [checked]="subjectContains('Science')"
                (change)="searchBySubject($event)"
              />Science
              <span class="filter-num">(123)</span>
            </label>
          </li> -->
        </ul>
      </div>
      <div class="filter-category">
        <span class="filter-category-header" *ngIf="!showMobileFilterView"
          >Price</span
        >
        <ul class="filter-category-list">
          <li style="width: 50%">
            <label class="filters-label">
              <input
                type="checkbox"
                class="filter-input"
                value="100-199"
                [checked]="priceContains('100-199')"
                (change)="searchByPrice($event)"
              />100-199
            </label>
          </li>
          <li style="width: 50%">
            <label class="filters-label">
              <input
                type="checkbox"
                class="filter-input"
                value="200-399"
                [checked]="priceContains('200-399')"
                (change)="searchByPrice($event)"
              />200-399
            </label>
          </li>
          <li style="width: 50%">
            <label class="filters-label">
              <input
                type="checkbox"
                class="filter-input"
                value="400-699"
                [checked]="priceContains('400-699')"
                (change)="searchByPrice($event)"
              />400-699
            </label>
          </li>
          <li style="width: 50%">
            <label class="filters-label">
              <input
                type="checkbox"
                class="filter-input"
                value="700-999"
                [checked]="priceContains('700-999')"
                (change)="searchByPrice($event)"
              />700-999
            </label>
          </li>
          <li style="width: 50%">
            <label class="filters-label">
              <input
                type="checkbox"
                class="filter-input"
                value="1000-1499"
                [checked]="priceContains('1000-1499')"
                (change)="searchByPrice($event)"
              />1000-1499
            </label>
          </li>
          <li style="width: 50%">
            <label class="filters-label">
              <input
                type="checkbox"
                class="filter-input"
                value="1500-10000"
                [checked]="priceContains('1500-10000')"
                (change)="searchByPrice($event)"
              />1500+
            </label>
          </li>
        </ul>
      </div>
      <div class="filter-category">
        <span class="filter-category-header">Avg. Reviews</span>
        <ul class="filter-category-list">
          <li>
            <label class="filters-label">
              <input
                type="checkbox"
                class="filter-input"
                value="4"
                [checked]="ratingContains('4')"
                (change)="searchByRatings($event)"
              />4 & up
            </label>
          </li>
          <li>
            <label class="filters-label">
              <input
                type="checkbox"
                class="filter-input"
                value="3"
                [checked]="ratingContains('3')"
                (change)="searchByRatings($event)"
              />3 & up
            </label>
          </li>
          <li>
            <label class="filters-label">
              <input
                type="checkbox"
                class="filter-input"
                value="2"
                [checked]="ratingContains('2')"
                (change)="searchByRatings($event)"
              />2 & up
            </label>
          </li>
          <li>
            <label class="filters-label">
              <input
                type="checkbox"
                class="filter-input"
                value="1"
                [checked]="ratingContains('1')"
                (change)="searchByRatings($event)"
              />1 & up
            </label>
          </li>
        </ul>
      </div>
    </div>
    <div class="search-cards-container columnto">
      <!-- <div *ngIf="searchResults.length == 0" style="
          width: max-content;
          margin: auto;
          padding: 10px;
          padding-top: 20px;
          max-width: 100vw;
          text-align: center;
        ">
                    <h1 style="font-size: 5vh">We're Sorry !</h1>
                    <h2 style="font-size: 3vh">
                        We can't seem to find any previous experts
                    </h2>
                </div> -->
      <ul class="rowto">
        <!-- <div *ngIf="allFiltersApplied.length == 0"> -->
        <!-- ....................................................... -->
        <div
          *ngIf="
            allFiltersApplied.price.length == 0 &&
            allFiltersApplied.ratings.length == 0 &&
            allFiltersApplied.subjects.length == 0
          "
        >
          <li class="search-result-card" *ngFor="let result of searchResults">
            <div
              class="result-profile-pic"
              [ngStyle]="{
                'background-image': 'url(' + result.profilePictureUrl + ')'
              }"
              default="../../assets/images/default-user-image.png"
            ></div>
            <div class="result-card-header">
              <span class="result-card-name" [innerHTML]="result.fullName">
              </span>
              <span
                class="result-card-specalizaiton"
                [innerHTML]="result.institute"
              >
              </span>
              <div class="stars-outer">
                <div class="stars-inner" [style.width.%]="result.rating"></div>
              </div>
            </div>

            <div class="result-card-content">
              <div class="numbers-container">
                <div class="fee_per_attribute">
                  ₹<span
                    class="number"
                    style="display: contents; color: #7d0f7d"
                    [innerHTML]="result.price1"
                  ></span>
                  <span class="info">per hour</span>
                </div>
                <div class="separtor"></div>
                <div>
                  <a
                    class="number"
                    [innerHTML]="result.reviewCount"
                    href="javascript:;"
                    (click)="viewProfile(result)"
                  ></a>
                  <a
                    class="info"
                    href="javascript:;"
                    style="color: black"
                    (click)="viewProfile(result)"
                    >REVIEWS</a
                  >
                </div>
                <div class="separtor"></div>
                <div>
                  <span
                    class="number"
                    [innerHTML]="result.lessonCompleted"
                  ></span>
                  <span class="info">Sessions</span>
                </div>
              </div>

              <div
                class="result-card-descirption"
                [innerHTML]="result.description | shorten"
              ></div>

              <div class="result-card-tutorsfor">
                <b> Tutors For</b>
                <div class="tutor-sub">
                  <span *ngFor="let skills of result.areaOfExpertise"
                    >{{ skills.subCategory }}, &nbsp;</span
                  >
                </div>
              </div>

              <button
                type="button"
                class="btn btn-primary"
                (click)="viewProfile(result)"
              >
                View Profile
              </button>
            </div>
          </li>
        </div>
        <!-- ....................................................... -->

        <!-- <div *ngIf="allFiltersApplied.length != 0"> -->
        <div>
          <li class="search-result-card" *ngFor="let result of filteredArray">
            <div
              class="result-profile-pic"
              [ngStyle]="{
                'background-image': 'url(' + result.profilePictureUrl + ')'
              }"
            ></div>
            <div class="result-card-header">
              <span class="result-card-name" [innerHTML]="result.fullName">
                <!-- Alex Chemoricle -->
              </span>
              <span
                class="result-card-specalizaiton"
                [innerHTML]="result.institute"
              >
                <!-- Exterior University - politics [bachelors] -->
              </span>
              <div class="stars-outer">
                <div class="stars-inner" [style.width.%]="result.rating"></div>
                <!-- <div class="stars-inner" style="width: 90%;"></div> -->
              </div>
            </div>

            <div class="result-card-content">
              <div class="numbers-container">
                <div class="fee_per_attribute">
                  <!-- ₹<span class="number" style="display: contents; color: #7d0f7d" [innerHTML]="result.price1"></span> -->
                  ₹<span
                    class="number"
                    style="display: contents; color: #7d0f7d"
                    [innerHTML]="result.price1"
                  ></span>
                  <span class="info">per hour</span>
                </div>
                <div class="separtor"></div>
                <div>
                  <a
                    class="number"
                    [innerHTML]="result.reviewCount"
                    href="javascript:;"
                    (click)="viewProfile(result)"
                  ></a>
                  <a
                    class="info"
                    href="javascript:;"
                    style="color: black"
                    (click)="viewProfile(result)"
                    >REVIEWS</a
                  >
                </div>
                <div class="separtor"></div>
                <div>
                  <span
                    class="number"
                    [innerHTML]="result.lessonCompleted"
                  ></span>
                  <span class="info">Sessions</span>
                </div>
              </div>

              <div
                class="result-card-descirption"
                [innerHTML]="result.description | shorten"
              >
                <!-- Exterior University - politics, Exterior University - politics [bachelors] -->
              </div>

              <div class="result-card-tutorsfor">
                <b> Tutors For</b>
                <div class="tutor-sub">
                  <span *ngFor="let skills of result.areaOfExpertise"
                    >{{ skills.subCategory }}, &nbsp;</span
                  >
                </div>
              </div>

              <button
                type="button"
                class="btn btn-primary"
                (click)="viewProfile(result)"
              >
                View Profile
              </button>
            </div>
          </li>
        </div>

        <!-- <div
          *ngIf="
            checkFilters() &&
            filteredArray.length == 0
          "
          class="no-recordsfound"
        >
          <img src="/assets/images/norecordsfound.svg" />
          <div class="information-container">
            <span class="noinforheader">We're Sorry</span>
                                                <span>
              We can't seem to find any experts that match your search</span
            >
          </div>
        </div> -->

        <div
          *ngIf="
            (searchResults.length == 0 && filteredArray.length == 0) ||
            (checkFilters() && filteredArray.length == 0)
          "
          class="no-recordsfound"
        >
          <img src="/assets/images/norecordsfound.svg" />
          <div class="information-container">
            <span class="noinforheader">We're Sorry</span>
            <span>
              We can't seem to find any experts that match your search</span
            >
          </div>
        </div>
      </ul>
      <!-- <div *ngIf="filterSearch.length == 0 && allFiltersApplied.length!=0">
        NO TEACHERS FOUND
      </div> -->
    </div>
  </div>
</div>
