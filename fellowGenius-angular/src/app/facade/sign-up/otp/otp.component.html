<div
    *ngIf="isLoading"
    style="
      text-align: center;
      margin-top: 20%;
      margin-left: auto;
      margin-right: auto;
    "
  >
    <app-loading></app-loading>
    <p style="margin: 1rem; font-size: large">Signing you up..</p>
</div>
<div class="container" [class]="!verifyEmail ? '' : 'hideBlock'">
<div class="page_wrapper">
    <div class="access_icon_box">
      <img
        src="../../../../assets/images/email-verification-clip.svg"
        alt="#"
        class="graphic_style"
      />
    </div>
    <div class="access_field_box">
      <div class="access_header">
        <a href="" class="accs_logo"
          ><img src="../../../../assets/images/fellow genius logo.svg" alt="#"
        /></a>
      </div>
      <div class="access_data">
        <div class="content_wrapper">
          <h2>Email Verification</h2>
          <div class="tagline">
            Enter the verification code sent to your email address <span style="color:#8DC63F;">{{email}}</span>
          </div>
          <!-- <span *ngIf="wrongOtp" class="help-block">Invalid OTP</span> -->
          <div class="error_message" *ngIf="otpErrorBoolean">
            <div class="msg_wrap">
              <img src="../../../../assets/images/required-error.svg" alt="#" class="erro_icon">
              <span><strong>Error</strong>{{otpErrorText}} </span>
            </div>
          </div>
          <form (ngSubmit)="onSignUp(o)" #o="ngForm">
            <div class="eml_vrfctn form-group" >

              <input
                type="text"
                id="otp_1digit"
                name="otp_1digit"
                
                
                (change)="splitOtp(0)"
                class="verfcn_box"
                (keydown)="onBackspaceInput($event,0)"
                (keyup)="onDigitInput($event)"
                
                placeholder="_"
                [(ngModel)]="otp[0]"
                required
              />
              <input
                type="text"
                id="otp_2digit"
                name="otp_2digit"
                (change)="splitOtp(1)"
              
                class="verfcn_box"
                (keydown)="onBackspaceInput($event,1)"
                (keyup)="onDigitInput($event)"
                placeholder="_"
                [(ngModel)]="otp[1]"
                required
              />
              <input
                type="text"
                id="otp_3digit"
                name="otp_3digit"
                (change)="splitOtp(2)"
               
                class="verfcn_box"
                
                (keyup)="onDigitInput($event)"
                (keydown)="onBackspaceInput($event,2)"
                placeholder="_"
                [(ngModel)]="otp[2]"
                required
              />
              <input
                type="text"
                id="otp_4digit"
                name="otp_4digit"
                maxlength="1"
                (change)="splitOtp(3)"
                class="verfcn_box"
                oninput="this.value = this.value.replace(/[^0-9]/g, '').replace(/(\..*?)\..*/g, '$1');"
                (keyup)="onDigitInput($event)"
                (keydown)="onBackspaceInput($event,3)"
                placeholder="_"
                [(ngModel)]="otp[3]"
                required
              />
              <input
                type="number"
                id="otp_5digit"
                name="otp_5digit"
                (change)="splitOtp(4)"
                maxlength="1"
                #digit5
                class="verfcn_box"
                oninput="this.value = this.value.replace(/[^0-9]/g, '').replace(/(\..*?)\..*/g, '$1');"
                (keyup)="onDigitInput($event)"
                (keydown)="onBackspaceInput($event,4)"
                placeholder="_"
                [(ngModel)]="otp[4]"
                required
              />
              <input
                type="number"
                id="otp_6digit"
                name="otp_6digit"
                maxlength="1"
                (change)="splitOtp(5)"
                class="verfcn_box"
                oninput="this.value = this.value.replace(/[^0-9]/g, '').replace(/(\..*?)\..*/g, '$1');"
                (keyup)="onDigitInput($event)"
                (keydown)="onBackspaceInput($event,5)"
                placeholder="_"
                [(ngModel)]="otp[5]"
                required
              />
            </div>

            <span *ngIf="resendEmailMessage" class="help-block" style="color:#8DC63F;">
              &#10004; A new OTP has been sent to your email</span>
          
              <span *ngIf="resendTimer" 
                [class]="!hideTimerMessage ? 'help-block' : 'hideBlock'" style="color:#8DC63F;" >
                Please wait {{resendRemainingSeconds}} second(s) before requesting a new One Time Password (OTP)
                </span>
                
                  <span *ngIf="!resendTimer"
                  [class]="!hideNewOtpMessage ? 'help-block' : 'hideBlock'" style="color:#8DC63F;">
                    You can now request a new OTP if needed.
                  </span>
                
            <button
              type="submit"
              class="button form_Btn"
              [disabled]="o.invalid"
              style="margin-top:20px;"
            >
              Verify Account
            </button>
          </form>
        </div>
      </div>
      <div class="access_footer">
        <p>Didn't receive code? <a 
          href="javascript:void(0);"
          (click)="onResend()">Resend</a></p>
      </div>
    </div>
  </div>
</div>
